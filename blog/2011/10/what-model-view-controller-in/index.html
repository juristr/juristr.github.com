<!DOCTYPE html>
<html lang="en-us"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.53" />
	
	<link rel="shortcut icon" href="/assets/images/sitelogo.jpeg">
	
	<title>What? Model-View-Controller in JavaScript? | juri.dev</title>
	
	
	<meta name="robots" content="index, follow">

	
	<meta name="author" content="Juri Strumpflohner">
	<link rel="me" href="https://profiles.google.com/104904743888756261987" />
	<link rel="publisher" href='https://plus.google.com/104904743888756261987' />
	<meta property="twitter:account_id" content="14407063" />


	
	<meta name="google-site-verification" content="0_vyoIaeMG1kXR0h-48gy3OaGl8xoiSJsFDxxCTIBMs" />
	<meta name="google-site-verification" content="AvmssSjl_nchNXIqBW8Agb_UjGqvvLP7HXSxBZ9d0cg" />

	
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="@juristr" />
	<meta name="twitter:title" content="What? Model-View-Controller in JavaScript?" />
	

	

	
	<meta property="og:type" content="article" />
	<meta property="og:title" content="What? Model-View-Controller in JavaScript?" />
	
	
	<meta property="og:url" content="https://juristr.com/blog/2011/10/what-model-view-controller-in" />
	<meta property="og:site_name" content="juristr.com" />

	
	<link rel="alternate" type="application/rss+xml" title="Juri Strumpflohner" href="//feeds.feedburner.com/juristrumpflohner">
	

	
	<link href="/css/bootstrap.min.css" rel="stylesheet">

	
	
	<link href='//fonts.googleapis.com/css?family=Righteous|Roboto:400,700,900|Source+Code+Pro|Lora:400,700,400italic|Material+Icons'
	 rel='stylesheet' type='text/css'>
	

	

	
	
	
	<link rel="stylesheet" href="/scss/main.min.css" integrity="" media="screen">

	

	

	
	
	<link rel="stylesheet" href="/scss/article.min.css" integrity="" media="screen">
	

	
	
</head><body>
<header class="navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container">

        
        <div class="row justify-content-center align-items-center brandrow">

            <div class="col-lg-4 col-md-4 col-xs-12 d-none d-md-block hidden-xs customarea">
                <img src="/assets/images/gde.svg" style="height:23px">
                <a href="https://google-developers.appspot.com/community/experts/directory/profile/profile-juri_strumpflohner" style="
                    padding-left: 5px;
                    font-size: 15pt;
                ">GDE
                    for Web Tech</a>
                

            </div>

            <div class="col-lg-4 col-md-4  col-xs-12 text-center logoarea">
                <a class="navbar-brand" href="https://juristr.com/">
                    
                    <span style="font-family:Righteous;">juri.dev</span>
                    
                </a>
                
            </div>

            <div class="col-lg-4 col-md-4  col-xs-12 text-right d-none d-md-block">
                <a href="https://twitter.com/juristr" class="twitter-follow-button" data-show-count="true">Follow me!</a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
            </div>

        </div>
        

        <div class="navarea">

            <nav class="navbar navbar-toggleable-sm">
                
                <div id="bs4navbar" class="navbar-collapse">
                    
                    <ul id="menu-top-menu" class="navbar-nav col-md-12 justify-content-center">
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/">Home</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/blog">Blog</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/categories">Collections</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/newsletter">Newsletter</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="https://github.com/juristr/ama">AMA</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/about">About Me</a>
                        </li>
                        
                    </ul>

                    
                </div>
            </nav>

        </div>

    </div>

</header>

    <div class="site-content">



<div class="container page-container">
    <div class="row">
        
        <div class="col-md-2 pl-0"><div class="share">
    <p>
        Share
    </p>
    <ul>
        <li>
            <a target="_blank" href="https://twitter.com/home?status=Check out this post by @juristr https%3a%2f%2fjuristr.com%2fblog%2f2011%2f10%2fwhat-model-view-controller-in%2f">
                <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
                    <path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"></path>
                </svg>
            </a>
        </li>
        <li>
            <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjuristr.com%2fblog%2f2011%2f10%2fwhat-model-view-controller-in%2f">
                <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
                    <path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"></path>
                </svg>
            </a>
        </li>
    </ul>
    
</div></div>
        
        <div class="col-md-9 col-md-offset-2 col-xs-12">
            <div class="mainheading">

                
                
                
                
                <div class="row post-top-meta">
                    
                    <div class="col-md-2">
                        <img class="author-thumb" src="https://www.gravatar.com/avatar/64537dfe80f44978663e378d375c7138?s=150&amp;d=identicon&amp;r=PG" alt="Juri Strumpflohner">
                    </div>
                    <div class="col-md-10">
                        <a class="link-dark" href="/about/">Juri Strumpflohner</a><a href="https://twitter.com/@juristr"
                            class="btn follow">Follow</a>
                        <span class="author-description">Juri is a full stack developer and tech lead with a special passion for the web and frontend development. He creates online videos for <a href="https://egghead.io/instructors/juri-strumpflohner">Egghead.io</a>, writes articles on his blog and for tech magazines, speaks at conferences and holds training workshops. Juri is also a recognized Google Developer Expert in Web Technologies</span>
                        
                    </div>
                    
                </div>
                
                
                
                

                <h1 class="posttitle">What? Model-View-Controller in JavaScript?</h1>
                
                <p>
                    <span class="post-date">
                        <time class="post-date">
                            Oct 10, 2011
                        </time></span>
                    <span class="dot"></span>
                    <span class="post-read">5 min read</span>
                </p>
            </div>

            
            
            

            
            <a href="https://egghead.io/courses/productive-git-for-developers?af=fj2vsx" class="external-link" data-client="eggheadio" data-uid="url">
                <img src="/assets/images/banners/egghead-banner-productive-git.png" style="width:100%" />
            </a>
            

            
            <div class="article-post">
                <div class="article-intro">
At work I'm currently working on a new web architecture composed of a rich client written in JavaScript and an ASP.net MVC server-side backend exposing a REST-like JSON api. An important part of that work is to also train developers on that, quite new way of programming web-apps. 
</div>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9669473064376287" data-ad-slot="2496274486"
    data-ad-format="auto"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<p>And actually, devs are quite surprised when I mention the term MVC and JavaScript in one sentence?</p></p>

<blockquote>"Ok...I understand the MVC concept now and the benefits are clear..but JavaScript?"</blockquote>

<p>I fully understand their doubts or astonishment. That&rsquo;s the problem with JavaScript and web developers. For many years (and even now) JavaScript has been purely used as a scripting language, for quickly hacking in some dynamic behavior in your web application that was mainly rendered by some &ldquo;fat&rdquo; (IIS ASP.net / Apache JBoss) server. How did that look like??</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">“text/javascript”</span><span class="p">&gt;</span>
<span class="kd">function</span> <span class="nx">performAction</span><span class="p">(){</span>
   <span class="kd">var</span> <span class="nx">dropdown</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="err">“</span><span class="nx">myDropdown</span><span class="err">”</span><span class="p">);</span>
   <span class="k">if</span><span class="p">(</span><span class="nx">dropdown</span><span class="p">.</span><span class="nx">selectedIndex</span> <span class="o">===</span> <span class="p">...)</span>
       <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="err">“</span><span class="nx">theDiv</span><span class="err">”</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="err">“</span><span class="nx">none</span><span class="err">”</span><span class="p">;</span>
   <span class="p">...</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
   …
   <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">“button”</span> <span class="na">value</span><span class="o">=</span><span class="s">“doAction”</span> <span class="na">onClick</span><span class="o">=</span><span class="s">“performAction()”/</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span></code></pre></div>
<p><a href="http://jsbin.com/oyazib/3/edit">Try it out here</a></p>

<hr />

<p>Something like this, right? I&rsquo;m speaking out of experience. That&rsquo;s JavaScript used as a &ldquo;scripting language&rdquo;, fully procedural, hooked in globally on the window object far away from any best practice or object oriented approach (nor to speak about testability).</p>

<p>Enough, let&rsquo;s talk about MVC.</p>

<h2 id="the-messy-structureless-codebase">The &ldquo;messy&rdquo;, structureless codebase</h2>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">showOutput</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="err">“</span><span class="nx">Juri</span><span class="err">”</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">age</span> <span class="o">=</span> <span class="mi">26</span><span class="p">;</span>
  
  <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="err">“</span><span class="nx">Hi</span><span class="p">,</span> <span class="nx">my</span> <span class="nx">name</span> <span class="nx">is</span> <span class="err">”</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="err">“</span> <span class="nx">and</span> <span class="nx">I</span><span class="err">’</span><span class="nx">m</span> <span class="err">”</span> <span class="o">+</span> <span class="nx">age</span> <span class="o">+</span> <span class="err">“</span> <span class="nx">years</span> <span class="nx">old</span><span class="p">.</span><span class="err">“</span><span class="p">;</span>
  <span class="nx">$</span><span class="p">(</span><span class="err">“</span><span class="p">.</span><span class="nx">output</span><span class="err">”</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><a href="http://jsbin.com/oyazib/3/edit">Try it out here</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">class</span><span class="o">=</span><span class="s">“jsbin”</span> <span class="na">src</span><span class="o">=</span><span class="s">“http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">utf-8</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>JS Bin<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">“view”</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>Output:<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">“output”</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">“btnClickMe”</span> <span class="na">type</span><span class="o">=</span><span class="s">“button”</span> <span class="na">value</span><span class="o">=</span><span class="s">“Click</span> <span class="na">me</span><span class="err">”</span> <span class="na">onClick</span><span class="o">=</span><span class="s">“showOutput()”/</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span></code></pre></div>
<p>I guess this is what might seem most familiar to you. The &ldquo;onClick&rdquo; event is directly registered on the button (line 12) which invokes a global function &ldquo;showOutput&rdquo; which in turn processes the embedded output and sets it to a given div element.</p>

<h2 id="converting-the-example-to-be-more-mvc-like">Converting the example to be more MVC-like</h2>

<p><strong>Step 1:</strong> Remove the event registering code from the HTML code.</p>

<p>In a first step we remove the event registering code from the above example s.t. the code looks as follows:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">showOutput</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="err">“</span><span class="nx">Juri</span><span class="err">”</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">age</span> <span class="o">=</span> <span class="mi">26</span><span class="p">;</span>
  
  <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="err">“</span><span class="nx">Hi</span><span class="p">,</span> <span class="nx">my</span> <span class="nx">name</span> <span class="nx">is</span> <span class="err">”</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="err">“</span> <span class="nx">and</span> <span class="nx">I</span><span class="err">’</span><span class="nx">m</span> <span class="err">”</span> <span class="o">+</span> <span class="nx">age</span> <span class="o">+</span> <span class="err">“</span> <span class="nx">years</span> <span class="nx">old</span><span class="p">.</span><span class="err">“</span><span class="p">;</span>
  <span class="nx">$</span><span class="p">(</span><span class="err">“</span><span class="p">.</span><span class="nx">output</span><span class="err">”</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="err">“#</span><span class="nx">btnClickMe</span><span class="err">”</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">showOutput</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>and the HTML code doesn&rsquo;t have any knowledge about the JavaScript behind, now. <a href="http://jsbin.com/oyazib/4/edit">Try here</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">class</span><span class="o">=</span><span class="s">“jsbin”</span> <span class="na">src</span><span class="o">=</span><span class="s">“http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">utf-8</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>JS Bin<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">“view”</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>Output:<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">“output”</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">“btnClickMe”</span> <span class="na">type</span><span class="o">=</span><span class="s">“button”</span> <span class="na">value</span><span class="o">=</span><span class="s">“Click</span> <span class="na">me</span><span class="err">”</span><span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span></code></pre></div>
<p><strong>Step 2:</strong> Extracting the model</p>

<p>So far the &ldquo;model&rdquo; wasn&rsquo;t really visible but rather represented by the two variables &ldquo;name&rdquo; and &ldquo;age&rdquo;. Let&rsquo;s create a simple JavaScript object that encapsulates this data:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">firstname</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">firstname</span> <span class="o">=</span> <span class="nx">firstname</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">showOutput</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">aPerson</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="err">“</span><span class="nx">Juri</span><span class="err">”</span><span class="p">,</span> <span class="mi">26</span><span class="p">);</span>  
  
  <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="err">“</span><span class="nx">Hi</span><span class="p">,</span> <span class="nx">my</span> <span class="nx">name</span> <span class="nx">is</span> <span class="err">”</span> <span class="o">+</span> <span class="nx">aPerson</span><span class="p">.</span><span class="nx">firstname</span> <span class="o">+</span> <span class="err">“</span> <span class="nx">and</span> <span class="nx">I</span><span class="err">’</span><span class="nx">m</span> <span class="err">”</span> <span class="o">+</span> <span class="nx">aPerson</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="err">“</span> <span class="nx">years</span> <span class="nx">old</span><span class="p">.</span><span class="err">“</span><span class="p">;</span>
  <span class="nx">$</span><span class="p">(</span><span class="err">“</span><span class="p">.</span><span class="nx">output</span><span class="err">”</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="err">“#</span><span class="nx">btnClickMe</span><span class="err">”</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">showOutput</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>The HTML code remains unchanged. <a href="http://jsbin.com/oyazib/5/edit">See here</a></p>

<p><strong>Step 3:</strong> Moving the presentation logic where it belongs to</p>

<p>The major thing that still disturbs in the above code is the presentation logic that is encoded in line 9. This is pure presentation logic. To solve this problem we use a templating engine. For simplicity reasons I&rsquo;ve chosen <a href="http://api.jquery.com/jquery.tmpl/">jQuery tmpl</a>&nbsp;but there are numerous others like <a href="http://aefxx.com/jquery-plugins/jqote2/">jQote</a> and <a href="http://embeddedjs.com/">EJS templates</a>.<br />First, the view:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"> <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">“text/x-jquery-tmpl”</span> <span class="na">id</span><span class="o">=</span><span class="s">“personView”</span><span class="p">&gt;</span>
  <span class="nx">Hi</span><span class="p">,</span> <span class="nx">my</span> <span class="nx">name</span> <span class="nx">is</span> <span class="o">&lt;</span><span class="nx">i</span><span class="o">&gt;</span><span class="nx">$</span><span class="p">{</span><span class="nx">firstname</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/i&gt; and I’m &lt;i&gt;${age}&lt;/i</span><span class="o">&gt;</span> <span class="nx">old</span><span class="p">.</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></div>
<p>The strange <code>${&hellip;}</code> are the jQuery tmpl placeholders. The according JavaScript code now looks as follows:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"> <span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">firstname</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">firstname</span> <span class="o">=</span> <span class="nx">firstname</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">showOutput</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">aPerson</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="err">“</span><span class="nx">Juri</span><span class="err">”</span><span class="p">,</span> <span class="mi">26</span><span class="p">);</span>  
  
  <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="err">“#</span><span class="nx">personView</span><span class="err">”</span><span class="p">).</span><span class="nx">tmpl</span><span class="p">(</span><span class="nx">aPerson</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">(</span><span class="err">“</span><span class="p">.</span><span class="nx">output</span><span class="err">”</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="err">“#</span><span class="nx">btnClickMe</span><span class="err">”</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">showOutput</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><a href="http://jsbin.com/oyazib/7/edit">Heres a live demo</a>.</p>

<p>Note the highlighted lines 9 and 10. There is no view-related code any more, but rather we invoke jQuery tmpl with the given view and pass in the data. The HTML code remains unchanged, except the jQuery tmpl view which is added at the end of the <code>&lt;head&gt;</code> section. Now that we have the model and the view extracted, where&rsquo;s the controller??</p>

<p><strong>Step 4:</strong> The controller, refining the big picture</p>

<p>The controller is nothing else but the glue that keeps together the model and the view. It knows from where to the fetch the model and which view to use. In fact, it is already present in the JavaScript code that has been shown so far. Have a look at the big picture:</p>

<p><strong>The Model:</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">firstname</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">firstname</span> <span class="o">=</span> <span class="nx">firstname</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<p><strong>The View:</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">class</span><span class="o">=</span><span class="s">“jsbin”</span> <span class="na">src</span><span class="o">=</span><span class="s">“http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">“http://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">utf-8</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>JS Bin<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">“text/x-jquery-tmpl”</span> <span class="na">id</span><span class="o">=</span><span class="s">“personView”</span><span class="p">&gt;</span>
  <span class="nx">Hi</span><span class="p">,</span> <span class="nx">my</span> <span class="nx">name</span> <span class="nx">is</span> <span class="o">&lt;</span><span class="nx">i</span><span class="o">&gt;</span><span class="nx">$</span><span class="p">{</span><span class="nx">firstname</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/i&gt; and I’m &lt;i&gt;${age}&lt;/i</span><span class="o">&gt;</span> <span class="nx">old</span><span class="p">.</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">“view”</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>Output:<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">“output”</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">“btnClickMe”</span> <span class="na">type</span><span class="o">=</span><span class="s">“button”</span> <span class="na">value</span><span class="o">=</span><span class="s">“Click</span> <span class="na">me</span><span class="err">”</span><span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span></code></pre></div>
<p><strong>The Controller:</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"> <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="err">“#</span><span class="nx">btnClickMe</span><span class="err">”</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">aPerson</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="err">“</span><span class="nx">Juri</span><span class="err">”</span><span class="p">,</span> <span class="mi">26</span><span class="p">);</span>  
  
    <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="err">“#</span><span class="nx">personView</span><span class="err">”</span><span class="p">).</span><span class="nx">tmpl</span><span class="p">(</span><span class="nx">aPerson</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="err">“</span><span class="p">.</span><span class="nx">output</span><span class="err">”</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span> 
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<h2 id="conclusion">Conclusion</h2>

<p>The example mentioned in this post is very basic and simple but still, I think it perfectly reflects what the MVC pattern is about and how a possible implementation in JavaScript could look like. Obviously this is a simple example with the purpose of understanding the concepts. In a real-world application you would probably rely on the numerous JavaScript MVC frameworks that are available.</p>

<p><strong>One step further?</strong></p>

<p>I&rsquo;d even go a step further and make the MVC model more clear by extracting the controller&rsquo;s logic into a reusable jQuery plugin. The controller is now encapsulated into a jQuery plugin which takes a view and a model to handle.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">//Controller
</span><span class="c1"></span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">){</span>
  
  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">personcontroller</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">model</span><span class="p">){</span> 

    <span class="c1">//register events
</span><span class="c1"></span>    <span class="nx">$</span><span class="p">(</span><span class="err">“</span><span class="nx">input</span><span class="p">[</span><span class="nx">type</span><span class="o">=</span><span class="nx">button</span><span class="p">]</span><span class="err">“</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> 
      <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="err">“#</span><span class="nx">personView</span><span class="err">”</span><span class="p">).</span><span class="nx">tmpl</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="err">“</span><span class="p">.</span><span class="nx">output</span><span class="err">”</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span> 
    <span class="p">});</span>
    
  <span class="p">};</span>
  
<span class="p">})(</span><span class="nx">jQuery</span><span class="p">);</span>
</code></pre></div>
<p>Finally, there is the application entry code which hooks up the controller:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">//Main of the “application”
</span><span class="c1"></span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">aPerson</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="err">“</span><span class="nx">Juri</span><span class="err">”</span><span class="p">,</span> <span class="mi">26</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">(</span><span class="err">“#</span><span class="nx">view</span><span class="err">”</span><span class="p">).</span><span class="nx">personcontroller</span><span class="p">(</span><span class="nx">aPerson</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>I guess now the separation is perfectly visible. The controller registers itself on a view where it hooks on the click event and visualizes the model that has been passed.<br /><br />The live code can be found here: <a href="http://jsbin.com/oyazib/11/edit">http://jsbin.com/oyazib/latest/edit</a></p>

				<hr />

				Questions? Thoughts? Hit me up <a href="https://twitter.com/juristr" target="_blank">on Twitter</a>
            </div>

            
            <div class="after-post-tags">
                <ul class="tags">
                    
                </ul>
            </div>
            

            <a href="https://egghead.io/instructors/juri-strumpflohner" class="external-link" data-client="eggheadio"
                data-uid="egghead-instructor-page">
                <img src="/blog/assets/imgs/egghead-banner-learn-with-me.png" style="width:100%" />
            </a>

            
            
            
        </div>
        
    </div>
</div>

<div class="hideshare"></div>



<div class="related-container">
    <div class="container">
        <div class="row listrecent listrelated">
            

        </div>
    </div>
</div>

<div class="container">
    <div id="comments" class="row justify-content-center mb-5">
        <div class="col-md-8">              
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "juristr" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>               
        </div>
    </div>
</div>



<script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">window.dojoRequire(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us4.list-manage.com","uuid":"04e83acc0ba14b18f30435204","lid":"1d83b68321","uniqueMethods":true}) })</script>
<div class="container">
    
<div class="footer">
    <p class="pull-left">
        &copy; Copyright Juri Strumpflohner - All rights reserved
    </p>
    <p class="pull-right">
        Customized Mediumish Theme, originally by <a target="_blank" href="https://www.wowthemes.net">WowThemes.net</a>
    </p>
    <div class="clearfix">
    </div>
</div>


</div>

    </div>

<script src="/js/jquery.min.js"></script>


<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>




<script type="text/javascript" src="/js/bundle.js" integrity=""></script>


<script src="/js/jquery.fluidbox.min.js"></script>
<script>
    $('a.image--zoom,.gallery>a').fluidbox();
</script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-416229-12', 'juristr.com');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  </script>






    
    <script type="text/javascript">
        window.cookieconsent_options = {
            "message": "This website uses cookies to ensure you get the best experience on our website",
            "dismiss": "Got it!",
            "learnMore": "More info",
            "link": null,
            "theme": "dark-bottom"
        };
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js"></script>
    

    
    
    
    <script>
!function(t,e,a,c,x){var s='q';t[s]={publication_id:c,tags:x};
var s=e.createElement(a),r=e.getElementsByTagName(a)[0];s.async=1,s.src=
'https://insights.quiet.ly/app/analytics.min.js',r.parentNode.insertBefore(s,r)}
(window,document,'script','87bcee90-0c51-4a68-a60b-e95df730d1ca','[]');
</script>
</body>

</html>
