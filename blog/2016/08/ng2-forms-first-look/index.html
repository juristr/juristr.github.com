<!DOCTYPE html>
<html lang="en-us"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.53" />
	
	<link rel="shortcut icon" href="/assets/images/sitelogo.jpeg">
	
	<title>Angular Forms - a first look | juri.dev</title>
	
	<meta name="description" content="A first quick look at the new Forms API in Angular">
	
	
	<meta name="robots" content="index, follow">

	
	<meta name="author" content="Juri Strumpflohner">
	<link rel="me" href="https://profiles.google.com/104904743888756261987" />
	<link rel="publisher" href='https://plus.google.com/104904743888756261987' />
	<meta property="twitter:account_id" content="14407063" />


	
	<meta name="google-site-verification" content="0_vyoIaeMG1kXR0h-48gy3OaGl8xoiSJsFDxxCTIBMs" />
	<meta name="google-site-verification" content="AvmssSjl_nchNXIqBW8Agb_UjGqvvLP7HXSxBZ9d0cg" />

	
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="@juristr" />
	<meta name="twitter:creator" content="@juristr" />
	<meta name="twitter:title" content="Angular Forms - a first look" />
	
	<meta name="twitter:description" content="A first quick look at the new Forms API in Angular" />
	

	
	<meta name="twitter:image:src" content="https://juristr.com/blog/assets/imgs/forms.png" />
	

	
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Angular Forms - a first look" />
	
	<meta property="og:description" content="A first quick look at the new Forms API in Angular" />
	
	
	<meta property="og:image" content="https://juristr.com/blog/assets/imgs/forms.png" />
	
	<meta property="og:url" content="https://juristr.com/blog/2016/08/ng2-forms-first-look" />
	<meta property="og:site_name" content="juristr.com" />

	
	<link rel="alternate" type="application/rss+xml" title="Juri Strumpflohner" href="//feeds.feedburner.com/juristrumpflohner">
	

	
	<link href="/css/bootstrap.min.css" rel="stylesheet">

	
	
	<link href='//fonts.googleapis.com/css?family=Righteous|Roboto:400,700,900|Source+Code+Pro|Lora:400,700,400italic|Material+Icons'
	 rel='stylesheet' type='text/css'>
	

	

	
	
	
	<link rel="stylesheet" href="/scss/main.min.css" integrity="" media="screen">

	

	

	
	
	<link rel="stylesheet" href="/scss/article.min.css" integrity="" media="screen">
	

	
	
	<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
<header class="navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container">

        
        <div class="row justify-content-center align-items-center brandrow">

            <div class="col-lg-4 col-md-4 col-xs-12 d-none d-md-block hidden-xs customarea">
                <img src="/assets/images/gde.svg" style="height:23px">
                <a href="https://developers.google.com/community/experts/directory/profile/profile-juri_strumpflohner" style="
                    padding-left: 5px;
                    font-size: 15pt;
                ">GDE
                    for Web Tech</a>
                

            </div>

            <div class="col-lg-4 col-md-4  col-xs-12 text-center logoarea">
                <a class="navbar-brand" href="https://juristr.com/">
                    
                    <span style="font-family:Righteous;">juri.dev</span>
                    
                </a>
                
            </div>

            <div class="col-lg-4 col-md-4  col-xs-12 text-right d-none d-md-block">
                <a href="https://twitter.com/juristr" class="twitter-follow-button" data-show-count="true">Follow me!</a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
            </div>

        </div>
        

        <div class="navarea">

            <nav class="navbar navbar-toggleable-sm">
                
                <div id="bs4navbar" class="navbar-collapse">
                    
                    <ul id="menu-top-menu" class="navbar-nav col-md-12 justify-content-center">
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/">Home</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/blog">Blog</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/categories">Collections</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/newsletter">Newsletter</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="https://github.com/juristr/ama">AMA</a>
                        </li>
                        
                        <li class="menu-item ">
                            <a class="nav-link" href="/about">About Me</a>
                        </li>
                        
                    </ul>

                    
                </div>
            </nav>

        </div>

    </div>

</header>

    <div class="site-content">



<div class="container page-container">
    <div class="row">
        
        <div class="col-md-2 pl-0"><div class="share">
    <p>
        Share
    </p>
    <ul>
        <li>
            <a target="_blank" href="https://twitter.com/home?status=Check out this post by @juristr https%3a%2f%2fjuristr.com%2fblog%2f2016%2f08%2fng2-forms-first-look%2f">
                <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
                    <path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"></path>
                </svg>
            </a>
        </li>
        <li>
            <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjuristr.com%2fblog%2f2016%2f08%2fng2-forms-first-look%2f">
                <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
                    <path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"></path>
                </svg>
            </a>
        </li>
    </ul>
    
</div></div>
        
        <div class="col-md-9 col-md-offset-2 col-xs-12">
            <div class="mainheading">

                
                
                
                
                <div class="row post-top-meta">
                    
                    <div class="col-md-2">
                        <img class="author-thumb" src="https://www.gravatar.com/avatar/64537dfe80f44978663e378d375c7138?s=150&amp;d=identicon&amp;r=PG" alt="Juri Strumpflohner">
                    </div>
                    <div class="col-md-10">
                        <a class="link-dark" href="/about/">Juri Strumpflohner</a><a href="https://twitter.com/@juristr"
                            class="btn follow">Follow</a>
                        <span class="author-description">Juri is a full stack developer and tech lead with a special passion for the web and frontend development. He creates online videos for <a href="https://egghead.io/instructors/juri-strumpflohner">Egghead.io</a>, writes articles on his blog and for tech magazines, speaks at conferences and holds training workshops. Juri is also a recognized Google Developer Expert in Web Technologies</span>
                        
                    </div>
                    
                </div>
                
                
                
                

                <h1 class="posttitle">Angular Forms - a first look</h1>
                
                <h2 class="article-subtitle">A first quick look at the new Forms API in Angular</h2>
                
                <p>
                    <span class="post-date">
                        <time class="post-date">
                            Aug 6, 2016
                        </time></span>
                    <span class="dot"></span>
                    <span class="post-read">7 min read</span>
                </p>
            </div>

            
            
            

            
            <a href="https://egghead.io/courses/productive-git-for-developers?af=fj2vsx" class="external-link" data-client="eggheadio" data-uid="url">
                <img src="/assets/images/banners/egghead-banner-productive-git.png" style="width:100%" />
            </a>
            

            
            <div class="article-post">
                

<div class="article-intro">
  Angular gets a brand new Forms API. It's fresh out of the compiler and since there's not much documentation around yet, <a href="https://twitter.com/angular_zone">@angular_zone</a> powered by <a href="https://twitter.com/gerardsans">Gerard Sans</a> and <a href="https://twitter.com/manekinekko">Wassim Chegham</a> organized a Google Hangout with <a href="https://twitter.com/karaforthewin">Kara Erickson</a>, core contributor to the Forms Api. Here I'm basically summarizing the main points and created a runnable Plunker for you to play with.
</div>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9669473064376287" data-ad-slot="2496274486"
    data-ad-format="auto"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div class="warn-notice">
    Contents are based on Angular version &gt;= 2
</div>

<div class="article-toc">
    <strong>Table of contents</strong>
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#two-different-approaches-to-forms">Two different approaches to Forms</a></li>
<li><a href="#enabling-the-form-api">Enabling the Form Api</a>
<ul>
<li>
<ul>
<li><a href="#prior-to-angular-2-rc5">Prior to Angular 2 RC5</a></li>
</ul></li>
</ul></li>
<li><a href="#template-driven-approach">Template driven approach</a>
<ul>
<li><a href="#simple-bindings">Simple bindings</a></li>
<li><a href="#grouping-form-controls">Grouping form controls</a></li>
</ul></li>
<li><a href="#reactive-approach">Reactive approach</a></li>
<li><a href="#wrapping-up">Wrapping up</a></li>
</ul></li>
</ul>
</nav>
</div>

<iframe width="750" height="500" src="https://www.youtube.com/embed/E92KS_YCSf8" frameborder="0" allowfullscreen="allowfullscreen"> </iframe>

<hr />

<p>Watch  Kara&rsquo;s talk at AngularConnect 2016 for an exhaustive Forms intro</p>

<ul>
<li><a href="https://www.youtube.com/watch?v=xYv9lsrV0s4">Kara Erickson talking about Forms at AngularConnect 2016</a></li>
<li><a href="https://docs.google.com/presentation/d/1rufZvQabEwpinabiMRq1rAa5nWR3ZpsTvw4snePAsjM/preview?slide=id.p">Slides</a></li>
</ul>

<hr />

<h2 id="two-different-approaches-to-forms">Two different approaches to Forms</h2>

<p>There are basically two different approaches to Angular forms:</p>

<ul>
<li><strong>Template driven</strong>, Angular 1 style forms</li>
<li><strong>Reactive, or model-driven</strong> forms</li>
</ul>

<p>Both of them are <strong>feature equivalent</strong>, so you&rsquo;re fine to go either way. It&rsquo;s however not suggested to mix them. Also, both share the same underlying concepts:</p>

<p><strong>View</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="p">/&gt;</span></code></pre></div>
<p><strong>Model</strong>, which has properties for validation like</p>

<ul>
<li>value</li>
<li>valid/invalid</li>
<li>pristine/dirty</li>
<li>touched/untouched</li>
<li>errors</li>
</ul>

<p>It&rsquo;s important to note that this <strong>is not the domain model</strong> you bind through <code>ngModel</code> or similar. It&rsquo;s a dedicated form model holding the validation and form control state properties.</p>

<p>So, the <em>view part</em> is what is called <strong>value accessor</strong> because we may have different kind of views with different ways of getting hold of their respective value:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;radio&#34;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">select</span><span class="p">&gt;&lt;/</span><span class="nt">select</span><span class="p">&gt;</span></code></pre></div>
<p>The value accessor knows how to interact with the underlying DOM element to get and set the according value. All of them implement the <code>ControlValueAccessor</code> interface.</p>

<p>The <em>model part</em> is an instance of <code>FormControl</code>.</p>

<blockquote>
<p>Every form control has one view (<code>ControlValueAccessor</code>) and a model instance (<code>FormControl</code>).</p>
</blockquote>

<p>So to summarize:</p>

<ul>
<li><strong>Template driven</strong>

<ul>
<li>Elements like <code>ngModel</code>, <code>ngModelGroup</code>, <code>ngForm</code></li>
<li>implicitly created</li>
<li>asynchronous, lots of stuff going on behind the scenes for wiring up the <code>FormControl</code> instance etc.</li>
</ul></li>
<li><strong>Reactive (model-driven)</strong>

<ul>
<li>Elements like <code>formControlName</code>, <code>formGroupName</code>, <code>formArrayName</code>, <code>formControl</code>, <code>formGroup</code></li>
<li>explicitly/programmatically created</li>
<li>synchronous and more predictive as they&rsquo;re created programmatically and there&rsquo;s not template rendering in the middle</li>
</ul></li>
</ul>

<p>Let&rsquo;s take a look.</p>

<h2 id="enabling-the-form-api">Enabling the Form Api</h2>

<p>To enable the Forms API you need to import the according <code>FormsModule</code> from <code>@angular/forms</code> and reference it within the module where you plan to use it.</p>

<pre><code>import { FormsModule }   from '@angular/forms';
...

@NgModule({
  imports: [ ..., FormsModule ],
  declarations: [ ... ],
  bootstrap: [ ... ]
})
export class AppModule {}
</code></pre>

<p>To learn more about <code>NgModule</code> check out <a href="https://angular.io/docs/ts/latest/guide/ngmodule.html">the guide on the official Angular site</a>.</p>

<div class="article-link card">
    <div class="row">
        <div class="col-2 share-link">
            <a href="https://angular.io/docs/ts/latest/guide/ngmodule.html" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-8 mr-4 icon-external-window">
                    <path class="primary" d="M12 8a1 1 0 0 1-1 1H5v10h10v-6a1 1 0 0 1 2 0v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2h6a1 1 0 0 1 1 1z"></path>
                    <path class="secondary" d="M19 6.41L8.7 16.71a1 1 0 1 1-1.4-1.42L17.58 5H14a1 1 0 0 1 0-2h6a1 1 0 0 1 1 1v6a1 1 0 0 1-2 0V6.41z"></path>
                </svg>
            </a>
        </div>
        <div class="col-10">
            <div class="title"><a href="https://angular.io/docs/ts/latest/guide/ngmodule.html" target="_blank">Angular Modules (NgModule)</a></div>
            <div class="description">Learn how to bundle Angular modules using the NgModule API</div>
            <div class="link">
                https://angular.io/docs/ts/latest/guide/ngmodule.html
            </div>
        </div>
    </div>
</div>

<p>Now we should be good to go. <strong>Here&rsquo;s a runnable Plunker</strong> which you can use to test out the various concepts as we quickly go over them.</p>

<iframe src="https://embed.plnkr.co/7451oI7vgmZnCBuDMESt/" width="100%" height="400px"> </iframe>

<h4 id="prior-to-angular-2-rc5">Prior to Angular 2 RC5</h4>

<p>Prior to RC5 when Angular modules have been introduced, you had to explicitly disable the &ldquo;old&rdquo; Forms API which was already present in Angular. To disable it, call the <code>disableDeprecatedForms()</code> function and then enable the brand new Forms API using the <code>provideForms()</code> and by passing it along to the Angular bootstrap function:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// main entry point
</span><span class="c1"></span><span class="k">import</span> <span class="p">{</span><span class="nx">bootstrap</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/platform-browser-dynamic&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">disableDeprecatedForms</span><span class="p">,</span> <span class="nx">provideForms</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span><span class="nx">App</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./app&#39;</span><span class="p">;</span>

<span class="nx">bootstrap</span><span class="p">(</span><span class="nx">App</span><span class="p">,</span> <span class="p">[</span>
  <span class="nx">disableDeprecatedForms</span><span class="p">(),</span>
  <span class="nx">provideForms</span><span class="p">()</span>
  <span class="p">])</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">));</span>
</code></pre></div>
<p>But I highly recommend to upgrade to the latest Angular release if possible.</p>

<h2 id="template-driven-approach">Template driven approach</h2>

<p>So assume we&rsquo;re having this plain simple HTML form:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Firstname: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;firstname&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Surname: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;surname&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Age: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;Age&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span></code></pre></div>
<p>To hook it to Angular&rsquo;s Forms API, you first need to declare a <code>#form</code> like</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">form</span> <span class="err">#</span><span class="na">form</span><span class="o">=</span><span class="s">&#34;ngForm&#34;</span><span class="p">&gt;</span>
  ...
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span></code></pre></div>
<h3 id="simple-bindings">Simple bindings</h3>

<p>As a next step we need to add the <code>ngModel</code> attribute to our form controls:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">ngModel</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;firstname&#34;</span> <span class="p">/&gt;</span></code></pre></div>
<p>This way we use the <em>template driven approach</em>, meaning by adding the <code>ngModel</code> attribute, behind the scenes the <code>FormControl</code> instance is created for use which we need for getting access to the underlying DOM element value. To see this two-way binding works, let&rsquo;s print out the state of our form value:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;</span>{%raw%}{{ form.value | json }}{%endraw%}<span class="p">&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span></code></pre></div>
<p>By typing into the text fields you can now see how we established a proper binding. Check it out yourself <a href="https://plnkr.co/edit/7451oI7vgmZnCBuDMESt?p=preview">in the linked Plunker</a>.</p>

<h3 id="grouping-form-controls">Grouping form controls</h3>

<p>Often it is necessary to group a number of form controls together, like the concept of an address, having properties such as street, city, state and zipcode. All of these are represented as separate form controls, but can be bound together as a form group.</p>

<p>So what&rsquo;s the effect of that? Well, these form groups get all of the same properties as the individual form controls have (like value, validity, touched/untouched etc), but they are derived by the value of their children. Like if one child is invalid, the whole group gets invalid.<br />
Moreover, the fields of a <code>FormGroup</code> get serialized into a dedicated object (we&rsquo;ll explore soon how that looks like). A variant of that is the  <code>FormArray</code>. The key difference is that its data gets serialized as an array. This might be especially useful when you don&rsquo;t know how many controls will be present within the group, like dynamic forms.</p>

<p>Ok so far? Good, consider the concept of an address. We can simply add more fields to our form as follows:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">form</span> <span class="err">#</span><span class="na">form</span><span class="o">=</span><span class="s">&#34;ngForm&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Firstname: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">ngModel</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;firstname&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Surname: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">ngModel</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;surname&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Age: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">ngModel</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;age&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">fieldset</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">legend</span><span class="p">&gt;</span>Address<span class="p">&lt;/</span><span class="nt">legend</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      Street: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">ngModel</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;street&#34;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      ZipCode: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">ngModel</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;zipCode&#34;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">fieldset</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span></code></pre></div>
<p>This would get serialized like</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
  <span class="s2">&#34;firstname&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="s2">&#34;surname&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="s2">&#34;age&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="s2">&#34;street&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="s2">&#34;zipCode&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span>
<span class="p">}</span>
</code></pre></div>
<p>But given that the address is already logically grouped on our UI, we want it to be serialized into a separate object <code>address</code>. As we just learned, this is as simple as adding a <code>ngModelGroup</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">form</span> <span class="err">#</span><span class="na">form</span><span class="o">=</span><span class="s">&#34;ngForm&#34;</span><span class="p">&gt;</span>
  ...
  <span class="p">&lt;</span><span class="nt">fieldset</span> <span class="na">ngModelGroup</span><span class="o">=</span><span class="s">&#34;address&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">legend</span><span class="p">&gt;</span>Address<span class="p">&lt;/</span><span class="nt">legend</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      Street: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">ngModel</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;street&#34;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      ZipCode: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">ngModel</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;zipCode&#34;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">fieldset</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span></code></pre></div>
<p>The resulting serialized object in turn now looks like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
  <span class="s2">&#34;firstname&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="s2">&#34;surname&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="s2">&#34;age&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="s2">&#34;address&#34;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&#34;street&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
    <span class="s2">&#34;zipCode&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reactive-approach">Reactive approach</h2>

<p>We&rsquo;ve seen the template-based approach. Let&rsquo;s take a look at the <strong>reactive or model-based</strong> way of writing Forms. Again, here&rsquo;s a Plunker to play with:</p>

<iframe src="https://embed.plnkr.co/IYnmaA22xt59YRqE1Lk9/" width="100%" height="400px"> </iframe>

<p>To <strong>activate the reactive approach</strong> you have to import the <code>ReactiveFormsModule</code> from <code>@angular/forms</code> rather than the <code>FormsModule</code> which we imported before:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="k">import</span> <span class="p">{</span> <span class="nx">ReactiveFormsModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="p">...</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span> <span class="p">...,</span> <span class="nx">ReactiveFormsModule</span> <span class="p">],</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span> <span class="p">...</span> <span class="p">],</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span> <span class="p">...</span> <span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="k">class</span> <span class="nx">AppModule</span> <span class="p">{}</span>
</code></pre></div>
<p>Then, given the reactive approach is model-based, we start from the JavaScript code of our component</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="p">...</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">FormControl</span><span class="p">,</span> <span class="nx">FormGroup</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="p">...</span>
<span class="p">})</span>
<span class="k">export</span> <span class="k">class</span> <span class="nx">App</span> <span class="p">{</span>
  <span class="nx">form</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormGroup</span><span class="p">({</span>
    <span class="nx">firstname</span><span class="o">:</span> <span class="k">new</span> <span class="nx">FormControl</span><span class="p">(),</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="k">new</span> <span class="nx">FormControl</span><span class="p">(),</span>
    <span class="nx">age</span><span class="o">:</span> <span class="k">new</span> <span class="nx">FormControl</span><span class="p">(),</span>
    <span class="nx">address</span><span class="o">:</span> <span class="k">new</span> <span class="nx">FormGroup</span><span class="p">({</span>
      <span class="nx">street</span><span class="o">:</span> <span class="k">new</span> <span class="nx">FormControl</span><span class="p">(),</span>
      <span class="nx">zipCode</span><span class="o">:</span> <span class="k">new</span> <span class="nx">FormControl</span><span class="p">()</span>
    <span class="p">})</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p>Note how we construct our controls and groups programmatically using the <code>FormControl</code> and <code>FormGroup</code> classes. Next we need to hook this <code>form</code> to our template:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">@Component({
  template: `
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Forms Api demo<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">form</span> <span class="err">[</span><span class="na">formGroup</span><span class="err">]=&#34;</span><span class="na">form</span><span class="err">&#34;</span><span class="p">&gt;</span>
        ...
      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  `
})
export class App { ... }</code></pre></div>
<p>We do this by using the <code>[formGroup]</code> binding.</p>

<p>And finally, we need to map the group and form controls using <code>formControlName</code> and <code>formGroupName</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">form</span> <span class="err">[</span><span class="na">formGroup</span><span class="err">]=&#34;</span><span class="na">form</span><span class="err">&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Firstname: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;firstname&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Surname: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;surname&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Age: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;age&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">fieldset</span> <span class="na">formGroupName</span><span class="o">=</span><span class="s">&#34;address&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">legend</span><span class="p">&gt;</span>Address<span class="p">&lt;/</span><span class="nt">legend</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      Street: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;street&#34;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      ZipCode: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;zipCode&#34;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">fieldset</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span></code></pre></div>
<h2 id="wrapping-up">Wrapping up</h2>

<p>Great, so I hope I was able to give you a first overview of what the Forms API looks like in Angular. Obviously there&rsquo;s much more to explore!</p>

<div class="article-link card">
    <div class="row">
        <div class="col-2 share-link">
            <a href="http://blog.thoughtram.io/angular/2016/07/27/custom-form-controls-in-angular-2.html" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-8 mr-4 icon-external-window">
                    <path class="primary" d="M12 8a1 1 0 0 1-1 1H5v10h10v-6a1 1 0 0 1 2 0v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2h6a1 1 0 0 1 1 1z"></path>
                    <path class="secondary" d="M19 6.41L8.7 16.71a1 1 0 1 1-1.4-1.42L17.58 5H14a1 1 0 0 1 0-2h6a1 1 0 0 1 1 1v6a1 1 0 0 1-2 0V6.41z"></path>
                </svg>
            </a>
        </div>
        <div class="col-10">
            <div class="title"><a href="http://blog.thoughtram.io/angular/2016/07/27/custom-form-controls-in-angular-2.html" target="_blank">Custom Form Controls in Angular</a></div>
            <div class="description">Learn how to create custom form controls with Pascal Precht from Thoughtram</div>
            <div class="link">
                http://blog.thoughtram.io/angular/2016/07/27/custom-form-controls-in-angular-2.html
            </div>
        </div>
    </div>
</div>


				<hr />

				Questions? Thoughts? Hit me up <a href="https://twitter.com/juristr" target="_blank">on Twitter</a>
            </div>

            
            <div class="after-post-tags">
                <ul class="tags">
                    
                </ul>
            </div>
            

            <a href="https://egghead.io/instructors/juri-strumpflohner" class="external-link" data-client="eggheadio"
                data-uid="egghead-instructor-page">
                <img src="/blog/assets/imgs/egghead-banner-learn-with-me.png" style="width:100%" />
            </a>

            
            
            
        </div>
        
    </div>
</div>

<div class="hideshare"></div>



<div class="related-container">
    <div class="container">
        <div class="row listrecent listrelated">
            

        </div>
    </div>
</div>

<div class="container">
    <div id="comments" class="row justify-content-center mb-5">
        <div class="col-md-8">              
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "juristr" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>               
        </div>
    </div>
</div>



<script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">window.dojoRequire(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us4.list-manage.com","uuid":"04e83acc0ba14b18f30435204","lid":"1d83b68321","uniqueMethods":true}) })</script>
<div class="container">
    
<div class="footer">
    <p class="pull-left">
        &copy; Copyright Juri Strumpflohner - All rights reserved
    </p>
    <p class="pull-right">
        Customized Mediumish Theme, originally by <a target="_blank" href="https://www.wowthemes.net">WowThemes.net</a>
    </p>
    <div class="clearfix">
    </div>
</div>


</div>

    </div>

<script src="/js/jquery.min.js"></script>


<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>




<script type="text/javascript" src="/js/bundle.js" integrity=""></script>


<script src="/js/jquery.fluidbox.min.js"></script>
<script>
    $('a.image--zoom,.gallery>a').fluidbox();
</script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-416229-12', 'juristr.com');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  </script>






    
    <script type="text/javascript">
        window.cookieconsent_options = {
            "message": "This website uses cookies to ensure you get the best experience on our website",
            "dismiss": "Got it!",
            "learnMore": "More info",
            "link": null,
            "theme": "dark-bottom"
        };
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js" defer></script>
    

    
    
    
    <script>
!function(t,e,a,c,x){var s='q';t[s]={publication_id:c,tags:x};
var s=e.createElement(a),r=e.getElementsByTagName(a)[0];s.async=1,s.src=
'https://insights.quiet.ly/app/analytics.min.js',r.parentNode.insertBefore(s,r)}
(window,document,'script','87bcee90-0c51-4a68-a60b-e95df730d1ca','[]');
</script>
    
 <script>
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
    }
  </script>
</body>

</html>
